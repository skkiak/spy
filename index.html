–≠—Ç–æ —Å–µ—Ä—å–µ–∑–Ω—ã–π –∞–ø–≥—Ä–µ–π–¥. –°—Ç–∏–ª—å ¬´Dark Graphite Minimal¬ª ‚Äî —ç—Ç–æ —Å–µ–π—á–∞—Å —Ç—Ä–µ–Ω–¥.
–Ø —Å–¥–µ–ª–∞–ª –¥–∏–∑–∞–π–Ω —Å—Ç—Ä–æ–≥–∏–º: —Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–µ —Ç–æ–Ω–∞, –º—è–≥–∫–∏–µ —Ç–µ–Ω–∏, –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ —Å—Ç–µ–∫–ª–æ (Glassmorphism).
‚ö†Ô∏è –í–ê–ñ–ù–û –ü–†–û –§–û–¢–û:
–í –∫–æ–¥–µ —è –ø—Ä–æ–ø–∏—Å–∞–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ IMG_0165.jpeg.
–ß—Ç–æ–±—ã —Ñ–æ—Ç–æ –ø–æ—è–≤–∏–ª–æ—Å—å –Ω–∞ —Ñ–æ–Ω–µ, —Ç—ã –¥–æ–ª–∂–µ–Ω:
 * –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª IMG_0165.jpeg –≤ —Ç–æ—Ç –∂–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub, –≥–¥–µ –ª–µ–∂–∏—Ç index.html.
 * –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ—á—å-–≤-—Ç–æ—á—å —Ç–∞–∫–æ–µ (—Å —É—á–µ—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞).
–í–æ—Ç —Ç–≤–æ–π –∫–æ–¥. –ö–æ–ø–∏—Ä—É–π –∏ –∑–∞–º–µ–Ω—è–π –≤—Å—ë –≤ index.html.
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–®–ø–∏–æ–Ω Minimal</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-overlay: rgba(10, 10, 10, 0.85); /* –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–∞ */
            --card-bg: rgba(40, 40, 40, 0.4); /* –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Å–µ—Ä—ã–π */
            --card-border: rgba(255, 255, 255, 0.08);
            --text-main: #f0f0f0;
            --text-muted: #888888;
            --accent: #ffffff;
            --danger: #ff5252;
            --shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }

        body {
            margin: 0;
            font-family: 'Manrope', sans-serif;
            color: var(--text-main);
            background-color: #000;
            /* –§–û–ù–û–í–û–ï –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ï */
            background-image: url('IMG_0165.jpeg'); 
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
        }

        /* –ó–∞—Ç–µ–º–Ω—è—é—â–∏–π —Å–ª–æ–π –ø–æ–≤–µ—Ä—Ö –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
        .app-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-overlay);
            backdrop-filter: blur(5px); /* –õ–µ–≥–∫–∏–π –±–ª—é—Ä —Å–∞–º–æ–π —Ñ–æ—Ç–∫–∏ –Ω–∞ —Ñ–æ–Ω–µ */
            z-index: -1;
        }

        .screen {
            width: 100%;
            max-width: 420px;
            padding: 24px;
            display: none;
            flex-direction: column;
            height: 100vh;
            justify-content: space-between;
            animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .active-screen { display: flex; }

        @keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }

        /* –¢–ò–ü–û–ì–†–ê–§–ò–ö–ê */
        h1 { font-size: 32px; font-weight: 800; margin: 0; letter-spacing: -1px; }
        h2 { font-size: 20px; font-weight: 600; margin: 0; color: var(--text-muted); }
        .hint { color: var(--text-muted); font-size: 13px; margin-top: 5px; }

        /* –ö–ê–†–¢–û–ß–ö–ò –ò –ü–ê–ù–ï–õ–ò */
        .glass-card {
            background: var(--card-bg);
            backdrop-filter: blur(20px); /* –°–∏–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç —Å—Ç–µ–∫–ª–∞ */
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--card-border);
            border-radius: 24px;
            padding: 24px;
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        /* –í–´–ë–û–† –¢–ï–ú–´ (Minimal Chips) */
        .topics-scroller {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            justify-content: center;
        }

        .topic-chip {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 12px 20px;
            border-radius: 100px;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .topic-chip.selected {
            background: #fff;
            color: #000;
            box-shadow: 0 0 15px rgba(255,255,255,0.3);
            border-color: #fff;
        }

        /* –°–õ–ê–ô–î–ï–† */
        .slider-wrapper { margin: 30px 0; text-align: center; }
        .count-val { font-size: 48px; font-weight: 800; letter-spacing: -2px; line-height: 1; }
        
        input[type=range] {
            width: 100%;
            height: 4px;
            background: rgba(255,255,255,0.1);
            border-radius: 2px;
            appearance: none;
            margin-top: 20px;
        }
        input[type=range]::-webkit-slider-thumb {
            appearance: none;
            width: 24px; height: 24px;
            background: #fff;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        /* –ò–ì–†–û–í–ê–Ø –ö–ê–†–¢–ê (–ü–†–û–°–í–ï–ß–ò–í–ê–Æ–©–ê–Ø) */
        .game-card-area {
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 1000px;
        }

        .secret-card {
            width: 100%;
            height: 320px;
            position: relative;
            border-radius: 24px;
            /* –ó–¥–µ—Å—å —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–æ—Å–≤–µ—á–∏–≤–∞–Ω–∏—è */
            background: rgba(20, 20, 20, 0.6); 
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(8px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        /* –®—Ç–æ—Ä–∫–∞ –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç—ã */
        .curtain {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: #1a1a1a; /* –ü–ª–æ—Ç–Ω—ã–π —Å–µ—Ä—ã–π, —á—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å —Ç–µ–∫—Å—Ç */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            transition: opacity 0.4s ease, transform 0.4s ease;
        }
        
        .curtain.hidden {
            opacity: 0;
            pointer-events: none;
            transform: scale(1.1); /* –≠—Ñ—Ñ–µ–∫—Ç –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è */
        }

        .role-text { font-size: 32px; font-weight: 800; text-align: center; z-index: 1; }
        .role-sub { font-size: 14px; color: var(--text-muted); margin-top: 10px; z-index: 1; }
        
        .spy-text { color: var(--danger); text-shadow: 0 0 20px rgba(255, 82, 82, 0.4); }

        /* –ö–ù–û–ü–ö–ò */
        .btn-main {
            background: #fff;
            color: #000;
            border: none;
            padding: 20px;
            border-radius: 18px;
            font-size: 16px;
            font-weight: 700;
            width: 100%;
            cursor: pointer;
            margin-bottom: 20px;
            transition: transform 0.1s;
        }
        .btn-main:active { transform: scale(0.97); }

        /* –¢–ê–ô–ú–ï–† */
        .timer-box {
            font-size: 64px;
            font-weight: 800;
            text-align: center;
            margin: 40px 0;
            font-variant-numeric: tabular-nums;
            letter-spacing: -3px;
        }
    </style>
</head>
<body>

    <div class="app-overlay"></div>

    <div id="screen-setup" class="screen active-screen">
        <div style="margin-top: 20px;">
            <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
            <p class="hint">–°–æ–∑–¥–∞–π—Ç–µ –∏–≥—Ä—É</p>
        </div>

        <div class="glass-card">
            <h2 style="text-align: center;">–ò–≥—Ä–æ–∫–∏</h2>
            <div class="slider-wrapper">
                <div class="count-val" id="countVal">4</div>
                <input type="range" id="playerCount" min="3" max="15" value="4" oninput="updateUI()">
            </div>
        </div>

        <div>
            <h2>–¢–µ–º–∞</h2>
            <div class="topics-scroller" id="topicsContainer">
                </div>
        </div>

        <button class="btn-main" onclick="startGame()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
    </div>

    <div id="screen-game" class="screen">
        <div style="text-align: center; margin-top: 20px;">
            <h2 id="playerCounter">–ò–≥—Ä–æ–∫ 1</h2>
            <p class="hint" id="statusHint">–ü–µ—Ä–µ–¥–∞–π —Ç–µ–ª–µ—Ñ–æ–Ω</p>
        </div>

        <div class="game-card-area">
            <div class="secret-card" onclick="revealCard()">
                
                <div class="curtain" id="curtain">
                    <div style="font-size: 40px; margin-bottom: 10px; opacity: 0.5;">üîí</div>
                    <div style="font-weight: 600; color: #aaa;">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã<br>—É–≤–∏–¥–µ—Ç—å —Ä–æ–ª—å</div>
                </div>

                <div id="roleContent" style="width: 100%; text-align: center;">
                    <div id="roleWord" class="role-text">...</div>
                    <div id="roleHint" class="role-sub">...</div>
                </div>

            </div>
        </div>

        <button class="btn-main" id="actionBtn" onclick="nextPlayer()" style="opacity: 0; pointer-events: none; transition: opacity 0.3s;">
            –Ø –∑–∞–ø–æ–º–Ω–∏–ª
        </button>
    </div>

    <div id="screen-timer" class="screen">
        <div style="margin-top: 40px; text-align: center;">
            <h1>–û–±—Å—É–∂–¥–µ–Ω–∏–µ</h1>
            <p class="hint">–ù–∞–π–¥–∏—Ç–µ —à–ø–∏–æ–Ω–∞</p>
        </div>

        <div class="timer-box" id="timerDisplay">5:00</div>

        <div class="glass-card" style="text-align: center;">
            <p style="color: var(--text-muted); margin-bottom: 10px;">–õ–æ–∫–∞—Ü–∏—è / –°–ª–æ–≤–æ</p>
            <h2 style="color: #fff; font-size: 24px;" id="finalWord">...</h2>
        </div>

        <button class="btn-main" onclick="location.reload()">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
    </div>

    <script>
        // –î–ê–ù–ù–´–ï
        const data = {
            "Clash Royale": ["–ë—Ä–µ–≤–Ω–æ", "–§–∞–µ—Ä–±–æ–ª", "–ó–∞–ø", "–°–∫–µ–ª–µ—Ç—ã", "–õ–µ–¥—è–Ω–æ–π –¥—É—Ö", "–†—ã—Ü–∞—Ä—å", "–í–∞–ª—å–∫–∏—Ä–∏—è", "–õ—É—á–Ω–∏—Ü—ã", "–ú—É—à–∫–µ—Ç—ë—Ä", "–•–æ–≥ –†–∞–π–¥–µ—Ä", "–®–∞—Ö—Ç—ë—Ä", "–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∏–π –≥–∏–≥–∞–Ω—Ç", "–ì–æ–±–ª–∏–Ω—Å–∫–∞—è –±–æ—á–∫–∞", "–ú–µ–≥–∞ —Ä—ã—Ü–∞—Ä—å", "–ò–Ω—Ñ–µ—Ä–Ω–æ-–±–∞—à–Ω—è", "–¢–µ—Å–ª–∞", "–≠–ª–µ–∫—Ç—Ä–æ-–¥—Ä–∞–∫–æ–Ω", "–ö–æ–ª–¥—É–Ω", "–í–µ–¥—å–º–∞", "–ü—Ä–∏–Ω—Ü"],
            "Marvel": ["–ß–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫", "–ñ–µ–ª–µ–∑–Ω—ã–π —á–µ–ª–æ–≤–µ–∫", "–ö–∞–ø–∏—Ç–∞–Ω –ê–º–µ—Ä–∏–∫–∞", "–¢–æ—Ä", "–•–∞–ª–∫", "–î–æ–∫—Ç–æ—Ä –°—Ç—Ä—ç–Ω–¥–∂", "–ß—ë—Ä–Ω–∞—è –≤–¥–æ–≤–∞", "–ß—ë—Ä–Ω–∞—è –ø–∞–Ω—Ç–µ—Ä–∞", "–ê–ª–∞—è –í–µ–¥—å–º–∞", "–õ–æ–∫–∏"],
            "–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ": ["MrBeast", "IShowSpeed", "Charlie Kirk", "Eminem", "Epstein", "–®–µ—Ñ", "–û–≥—É–∑–æ–∫", "–ê–∑–∏–º –ö–∞–Ω—ã–±–µ–∫–æ–≤"],
            "–£—á–∏—Ç–µ–ª—è": ["–ó–µ–ª–µ–Ω—ã–π", "–ö–æ–ª—è", "–≠–º—á–µ–∫", "–ö—É–±–∏–∫", "–ö–æ—Ä–æ–∑", "–ù—É—Ä–∞–ª—ã", "–¢—É–∞–ª–µ—Ç", "–ê–ª–∏–Ω–∫–∞", "–õ—É–∏–∑–∞", "–ß–∞–π–Ω–∞–≥—É–ª—å"]
        };

        let config = { players: 4, topic: "Clash Royale" };
        let game = { roles: [], current: 0, secret: "" };
        let isRevealed = false;
        let timerInt;

        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.enableClosingConfirmation();

        // INIT
        window.onload = () => {
            const container = document.getElementById('topicsContainer');
            Object.keys(data).forEach(t => {
                const chip = document.createElement('div');
                chip.className = `topic-chip ${t === config.topic ? 'selected' : ''}`;
                chip.innerText = t;
                chip.onclick = () => {
                    config.topic = t;
                    document.querySelectorAll('.topic-chip').forEach(c => c.classList.remove('selected'));
                    chip.classList.add('selected');
                };
                container.appendChild(chip);
            });
        };

        function updateUI() {
            config.players = document.getElementById('playerCount').value;
            document.getElementById('countVal').innerText = config.players;
        }

        // GAME LOGIC
        function startGame() {
            const list = data[config.topic];
            game.secret = list[Math.floor(Math.random() * list.length)];
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–æ–ª–µ–π
            game.roles = Array(parseInt(config.players)).fill(game.secret);
            const spyIdx = Math.floor(Math.random() * game.roles.length);
            game.roles[spyIdx] = "–®–ü–ò–û–ù";

            game.current = 0;
            showScreen('screen-game');
            setupCard();
        }

        function setupCard() {
            isRevealed = false;
            document.getElementById('curtain').classList.remove('hidden');
            document.getElementById('actionBtn').style.opacity = '0';
            document.getElementById('actionBtn').style.pointerEvents = 'none';
            document.getElementById('playerCounter').innerText = `–ò–≥—Ä–æ–∫ ${game.current + 1}`;
            document.getElementById('statusHint').innerText = "–ü–µ—Ä–µ–¥–∞–π —Ç–µ–ª–µ—Ñ–æ–Ω —ç—Ç–æ–º—É –∏–≥—Ä–æ–∫—É";
            
            // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä—ã—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
            const role = game.roles[game.current];
            const wordEl = document.getElementById('roleWord');
            const hintEl = document.getElementById('roleHint');
            
            if (role === "–®–ü–ò–û–ù") {
                wordEl.innerText = role;
                wordEl.classList.add('spy-text');
                hintEl.innerText = "–¢—Å—Å... –ù–µ –≤—ã–¥–∞–≤–∞–π —Å–µ–±—è";
            } else {
                wordEl.innerText = role;
                wordEl.classList.remove('spy-text');
                hintEl.innerText = `–¢–µ–º–∞: ${config.topic}`;
            }
        }

        function revealCard() {
            if (isRevealed) return;
            isRevealed = true;
            document.getElementById('curtain').classList.add('hidden');
            document.getElementById('statusHint').innerText = "–ó–∞–ø–æ–º–Ω–∏ —Å–≤–æ—é —Ä–æ–ª—å";
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–î–∞–ª–µ–µ" —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
            setTimeout(() => {
                const btn = document.getElementById('actionBtn');
                btn.style.opacity = '1';
                btn.style.pointerEvents = 'auto';
            }, 500);
        }

        function nextPlayer() {
            game.current++;
            if (game.current >= game.roles.length) {
                startTimer();
                showScreen('screen-timer');
            } else {
                setupCard();
            }
        }

        function startTimer() {
            document.getElementById('finalWord').innerText = game.secret;
            let time = 300;
            const display = document.getElementById('timerDisplay');
            
            timerInt = setInterval(() => {
                const m = Math.floor(time / 60);
                const s = time % 60;
                display.innerText = `${m}:${s < 10 ? '0'+s : s}`;
                time--;
                if (time < 0) clearInterval(timerInt);
            }, 1000);
        }

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active-screen'));
            document.getElementById(id).classList.add('active-screen');
        }
    </script>
</body>
</html>

